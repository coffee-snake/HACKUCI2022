<!DOCTYPE html>
<html>
<html lang = "en">
<head>
	<title>Website Title</title>
	<style>
	body {
		font-family: Verdana, sans-serif;
	}
	.summaryBox {
		border 5px outset blue;
		background-color: lightblue;
		text-align: left;
	}
	</style>
</head>
<script>
var input = document.getElementById('yname');
input.addEventListener("keyup", function(event) {
	if (event.keyCode === 13) {
		event.preventDefault();
		document.getElementById("displayButton").click();
	}
});

async function sendURL() {
	event.preventDefault();
	
	const formData = new FormData();
	
	var user_url = document.getElementById("videoTitle");
	await fetch("127.0.0.1:5000", {
		method: 'POST',
		body: formData
	}).then(response => response.text());
}

function displayVideoTitle() {
	var videoTitle = document.getElementById('yname').value
	if (videoTitle != '') {
		document.getElementById('vidTitle').innerHTML = '<b>Video Title: '+ videoTitle +'</b>';
	}
}
</script>

<body>
    <h1>Video Summarizer</h1>
    <h2>Input a link from Youtube OR a YuJa lecture link</h2>
	<p>Note: must have transcript/subtitles!</p>
	<label for="yname"><b>Link:<b></label>
	<input type="text" id="yname" name="yname"><br><br>
	<button id = "displayButton" onclick = "displayVideoTitle(); sendURL();" type = "submit">Submit</button>
	
	<h2>Based on the transcript, here is the video summary</h2>
	<div class = "summaryBox">
		<p id = "vidTitle"><b>Video title:</b></p>
		<p><strong>End of transcript</strong></p>
	</div>
</body>

<html>